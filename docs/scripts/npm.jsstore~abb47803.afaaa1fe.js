(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{MSwd:function(e,n,t){e.exports=t.p+"scripts/jsstore.worker.ie.2c85f2cd6cbffea4d5466624548a06cd.js"},tq5t:function(e,n){
/*!
 * @license :jsstore - V3.7.0 - 01/01/2020
 * https://github.com/ujjwalguptaofficial/JsStore
 * Copyright (c) 2020 @Ujjwal Gupta; Licensed MIT
 */
e.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="./src/main/index.ts")}({"./src/common/enums.ts":
/*!*****************************!*\
  !*** ./src/common/enums.ts ***!
  \*****************************/
/*! exports provided: ERROR_TYPE, WORKER_STATUS, DATA_TYPE, API, EVENT, QUERY_OPTION, IDB_MODE, OCCURENCE, CONNECTION_STATUS */function(e,n,t){"use strict";var r,i,o,u,s,c,a,p,l;t.r(n),t.d(n,"ERROR_TYPE",function(){return r}),t.d(n,"WORKER_STATUS",function(){return i}),t.d(n,"DATA_TYPE",function(){return o}),t.d(n,"API",function(){return u}),t.d(n,"EVENT",function(){return s}),t.d(n,"QUERY_OPTION",function(){return c}),t.d(n,"IDB_MODE",function(){return a}),t.d(n,"OCCURENCE",function(){return p}),t.d(n,"CONNECTION_STATUS",function(){return l}),function(e){e.WorkerNotSupplied="worker_not_supplied",e.IndexedDbUndefined="indexeddb_undefined",e.UndefinedColumn="undefined_column",e.UndefinedValue="undefined_value",e.UndefinedColumnName="undefined_column_name",e.UndefinedDbName="undefined_database_name",e.UndefinedColumnValue="undefined_column_value",e.NotArray="not_array",e.NoValueSupplied="no_value_supplied",e.ColumnNotExist="column_not_exist",e.EnableSearchOff="enable_search_off",e.InvalidOp="invalid_operator",e.NullValue="null_value",e.WrongDataType="wrong_data_type",e.NextJoinNotExist="next_join_not_exist",e.TableNotExist="table_not_exist",e.DbNotExist="db_not_exist",e.ConnectionAborted="connection_aborted",e.ConnectionClosed="connection_closed",e.NotObject="not_object",e.InvalidConfig="invalid_config",e.DbBlocked="Db_blocked",e.IndexedDbNotSupported="indexeddb_not_supported",e.NullValueInWhere="null_value_in_where",e.InvalidJoinQuery="invalid_join_query",e.InvalidOrderQuery="invalid_order_query",e.InvalidQuery="invalid_query",e.InvalidGroupQuery="invalid_group_query"}(r||(r={})),function(e){e.Registered="registerd",e.Failed="failed",e.NotStarted="not_started"}(i||(i={})),function(e){e.String="string",e.Object="object",e.Array="array",e.Number="number",e.Boolean="boolean",e.Null="null",e.DateTime="date_time"}(o||(o={})),function(e){e.InitDb="init_db",e.IsDbExist="is_db_exist",e.GetDbVersion="get_db_version",e.GetDbList="get_db_list",e.Get="get",e.Set="set",e.Select="select",e.Insert="insert",e.Update="update",e.Remove="remove",e.GetDbSchema="get_db_schema",e.OpenDb="open_db",e.Clear="clear",e.DropDb="drop_db",e.Count="count",e.ChangeLogStatus="change_log_status",e.Terminate="terminate",e.Transaction="transaction",e.InitKeyStore="init_keystore",e.CloseDb="close_db",e.Union="union"}(u||(u={})),function(e){e.RequestQueueEmpty="requestQueueEmpty",e.RequestQueueFilled="requestQueueFilled"}(s||(s={})),function(e){e.Where="where",e.Like="like",e.Regex="regex",e.In="in",e.Equal="=",e.Between="-",e.GreaterThan=">",e.LessThan="<",e.GreaterThanEqualTo=">=",e.LessThanEqualTo="<=",e.NotEqualTo="!=",e.Aggregate="aggregate",e.Max="max",e.Min="min",e.Avg="avg",e.Count="count",e.Sum="sum",e.Or="or",e.Skip="skip",e.Limit="limit",e.And="and",e.IgnoreCase="ignoreCase",e.Then="then"}(c||(c={})),function(e){e.ReadOnly="readonly",e.ReadWrite="readwrite"}(a||(a={})),function(e){e.First="f",e.Last="l",e.Any="a"}(p||(p={})),function(e){e.Connected="connected",e.Closed="closed",e.NotStarted="not_started",e.UnableToStart="unable_to_start",e.ClosedByJsStore="closed_by_jsstore"}(l||(l={}))},"./src/common/index.ts":
/*!*****************************!*\
  !*** ./src/common/index.ts ***!
  \*****************************/
/*! exports provided: ERROR_TYPE, WORKER_STATUS, DATA_TYPE, API, EVENT, QUERY_OPTION, IDB_MODE, OCCURENCE, CONNECTION_STATUS */function(e,n,t){"use strict";t.r(n);var r=t(/*! ./enums */"./src/common/enums.ts");t.d(n,"ERROR_TYPE",function(){return r.ERROR_TYPE}),t.d(n,"WORKER_STATUS",function(){return r.WORKER_STATUS}),t.d(n,"DATA_TYPE",function(){return r.DATA_TYPE}),t.d(n,"API",function(){return r.API}),t.d(n,"EVENT",function(){return r.EVENT}),t.d(n,"QUERY_OPTION",function(){return r.QUERY_OPTION}),t.d(n,"IDB_MODE",function(){return r.IDB_MODE}),t.d(n,"OCCURENCE",function(){return r.OCCURENCE}),t.d(n,"CONNECTION_STATUS",function(){return r.CONNECTION_STATUS})},"./src/main/config.ts":
/*!****************************!*\
  !*** ./src/main/config.ts ***!
  \****************************/
/*! exports provided: Config */function(e,n,t){"use strict";t.r(n),t.d(n,"Config",function(){return r});var r=function(){function e(){}return e.isLogEnabled=!1,e.isRuningInWorker=!0,e}()},"./src/main/connection.ts":
/*!********************************!*\
  !*** ./src/main/connection.ts ***!
  \********************************/
/*! exports provided: Connection */function(e,n,t){"use strict";t.r(n),t.d(n,"Connection",function(){return a});var r,i=t(/*! ./connection_helper */"./src/main/connection_helper.ts"),o=t(/*! ../common/index */"./src/common/index.ts"),u=t(/*! ./config */"./src/main/config.ts"),s=t(/*! ./util */"./src/main/util.ts"),c=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=function(e){function n(n){return e.call(this,n)||this}return c(n,e),n.prototype.openDb=function(e){return this.activeDbName=e,this.pushApi({name:o.API.OpenDb,query:e})},n.prototype.initDb=function(e){return this.activeDbName=e.name,this.pushApi({name:o.API.InitDb,query:e})},n.prototype.dropDb=function(){return this.pushApi({name:o.API.DropDb,query:null})},n.prototype.select=function(e){return this.pushApi({name:o.API.Select,query:e})},n.prototype.count=function(e){return this.pushApi({name:o.API.Count,query:e})},n.prototype.insert=function(e){return this.pushApi({name:o.API.Insert,query:e})},n.prototype.update=function(e){return this.pushApi({name:o.API.Update,query:e})},n.prototype.remove=function(e){return this.pushApi({name:o.API.Remove,query:e})},n.prototype.clear=function(e){return this.pushApi({name:o.API.Clear,query:e})},n.prototype.setLogStatus=function(e){u.Config.isLogEnabled=e||u.Config.isLogEnabled,this.pushApi({name:o.API.ChangeLogStatus,query:u.Config.isLogEnabled})},n.prototype.getDbVersion=function(e){return this.pushApi({name:o.API.GetDbVersion,query:e})},n.prototype.isDbExist=function(e){return this.pushApi({name:o.API.IsDbExist,query:e})},n.prototype.getDbList=function(){return this.pushApi({name:o.API.GetDbList,query:null})},n.prototype.getDbSchema=function(e){return this.pushApi({name:o.API.GetDbSchema,query:e})},n.prototype.get=function(e){return this.pushApi({name:o.API.Get,query:e})},n.prototype.set=function(e,n){return this.pushApi({name:o.API.Set,query:{key:e,value:n}})},n.prototype.terminate=function(){return this.pushApi({name:o.API.Terminate,query:null})},n.prototype.transaction=function(e){return!0===u.Config.isRuningInWorker&&(e.logic=e.logic.toString()),this.pushApi({name:o.API.Transaction,query:e})},n.prototype.runSql=function(e){var n=s.Util.sqlWeb.parseSql(e);return this[n.api](n.data)},n.prototype.on=function(e,n){this.eventQueue.push({event:e,callback:n})},n.prototype.off=function(e,n){var t=this;this.eventQueue.map(function(n,t){if(n.event===e)return t}).forEach(function(e){t.eventQueue.splice(e,0)})},n.prototype.union=function(e){return this.pushApi({name:o.API.Union,query:e})},n}(i.ConnectionHelper)},"./src/main/connection_helper.ts":
/*!***************************************!*\
  !*** ./src/main/connection_helper.ts ***!
  \***************************************/
/*! exports provided: ConnectionHelper */function(e,n,t){"use strict";t.r(n),t.d(n,"ConnectionHelper",function(){return u});var r=t(/*! ./log_helper */"./src/main/log_helper.ts"),i=t(/*! ./config */"./src/main/config.ts"),o=t(/*! ../common/index */"./src/common/index.ts"),u=function(){function e(e){this.isDbOpened_=!1,this.isDbIdle_=!0,this.requestQueue_=[],this.isCodeExecuting_=!1,this.inactivityTimer_=-1e3,this.eventQueue=[],this.whiteListApi_=[o.API.InitDb,o.API.IsDbExist,o.API.GetDbVersion,o.API.GetDbList,o.API.OpenDb,o.API.GetDbSchema,o.API.Get,o.API.Set,o.API.ChangeLogStatus,o.API.Terminate,o.API.InitKeyStore],e?(this.worker_=e,this.worker_.onmessage=this.onMessageFromWorker_.bind(this)):i.Config.isRuningInWorker=!1}return e.prototype.initKeyStore_=function(){i.Config.isRuningInWorker?this.prcoessExecutionOfQry_({name:o.API.InitKeyStore,onSuccess:function(){},onError:function(e){console.error(e)}},0):JsStoreWorker.KeyStore.init()},e.prototype.onMessageFromWorker_=function(e){this.processFinishedQuery_(e.data)},e.prototype.processFinishedQuery_=function(e){var n=this.requestQueue_.shift();if(n){if(r.LogHelper.log("request "+n.name+" finished"),e.errorOccured)n.onError(e.errorDetails);else{switch(n.name){case o.API.OpenDb:case o.API.InitDb:this.isDbOpened_=!0;break;case o.API.Terminate:this.isDbOpened_=!1,!0===i.Config.isRuningInWorker&&this.worker_.terminate();break;case o.API.CloseDb:this.requestQueue_.length>0?this.openDb_():(this.isDbIdle_=!0,this.callEvent(o.EVENT.RequestQueueEmpty,[]))}n.onSuccess(e.returnedValue)}this.isCodeExecuting_=!1,this.executeQry_()}},e.prototype.openDb_=function(){this.initKeyStore_(),this.prcoessExecutionOfQry_({name:o.API.OpenDb,query:this.activeDbName,onSuccess:function(){},onError:function(e){console.error(e)}},1)},e.prototype.pushApi=function(e){var n=this;return new Promise(function(t,r){e.onSuccess=function(e){t(e)},e.onError=function(e){r(e)},0===n.requestQueue_.length&&(n.callEvent(o.EVENT.RequestQueueFilled,[]),!0===n.isDbIdle_&&!0===n.isDbOpened_?n.openDb_():(clearTimeout(n.inactivityTimer_),n.initKeyStore_())),n.prcoessExecutionOfQry_(e)})},e.prototype.prcoessExecutionOfQry_=function(e,n){this.isDbIdle_=!1,null!=n?this.requestQueue_.splice(n,0,e):this.requestQueue_.push(e),r.LogHelper.log("request pushed: "+e.name),this.executeQry_()},e.prototype.executeQry_=function(){var e=this,n=this.requestQueue_.length;if(!this.isCodeExecuting_&&n>0){if(!0===this.isDbOpened_)return void this.sendRequestToWorker_(this.requestQueue_[0]);var t=this.requestQueue_.findIndex(function(n){return e.whiteListApi_.indexOf(n.name)>=0});t>=0&&(this.requestQueue_.splice(0,0,this.requestQueue_.splice(t,1)[0]),this.sendRequestToWorker_(this.requestQueue_[0]))}else 0===n&&!1===this.isDbIdle_&&this.isDbOpened_&&(this.inactivityTimer_=setTimeout(function(){e.prcoessExecutionOfQry_({name:o.API.CloseDb,onSuccess:function(){},onError:function(e){console.error(e)}})},100))},e.prototype.sendRequestToWorker_=function(e){this.isCodeExecuting_=!0;var n={name:e.name,query:e.query};!0===i.Config.isRuningInWorker?this.worker_.postMessage(n):new JsStoreWorker.QueryExecutor(this.processFinishedQuery_.bind(this)).checkConnectionAndExecuteLogic(n)},e.prototype.callEvent=function(e,n){this.eventQueue.filter(function(n){if(n.event===e)return n}).forEach(function(e){e.callback.apply(e,n)})},e}()},"./src/main/global.ts":
/*!****************************!*\
  !*** ./src/main/global.ts ***!
  \****************************/
/*! exports provided: useSqlWeb */function(e,n,t){"use strict";t.r(n),t.d(n,"useSqlWeb",function(){return i});var r=t(/*! ./util */"./src/main/util.ts"),i=function(e){r.Util.sqlWeb=e}},"./src/main/helper.ts":
/*!****************************!*\
  !*** ./src/main/helper.ts ***!
  \****************************/
/*! exports provided: enableLog */function(e,n,t){"use strict";t.r(n),t.d(n,"enableLog",function(){return i});var r=t(/*! ./config */"./src/main/config.ts"),i=function(){r.Config.isLogEnabled=!0}},"./src/main/index.ts":
/*!***************************!*\
  !*** ./src/main/index.ts ***!
  \***************************/
/*! exports provided: DATA_TYPE, Instance, Connection, Config, enableLog, useSqlWeb */function(e,n,t){"use strict";t.r(n);var r=t(/*! ./instance */"./src/main/instance.ts");t.d(n,"Instance",function(){return r.Instance});var i=t(/*! ./connection */"./src/main/connection.ts");t.d(n,"Connection",function(){return i.Connection});var o=t(/*! ./config */"./src/main/config.ts");t.d(n,"Config",function(){return o.Config});var u=t(/*! ./helper */"./src/main/helper.ts");t.d(n,"enableLog",function(){return u.enableLog});var s=t(/*! ./global */"./src/main/global.ts");t.d(n,"useSqlWeb",function(){return s.useSqlWeb});var c=t(/*! ../common/index */"./src/common/index.ts");t.d(n,"DATA_TYPE",function(){return c.DATA_TYPE})},"./src/main/instance.ts":
/*!******************************!*\
  !*** ./src/main/instance.ts ***!
  \******************************/
/*! exports provided: Instance */function(e,n,t){"use strict";t.r(n),t.d(n,"Instance",function(){return i});var r=t(/*! ./connection */"./src/main/connection.ts"),i=function(){return function(e){return console.warn("Instance is obsolete, please use Connection. Refer - https://jsstore.net/tutorial/connection/"),new r.Connection(e)}}()},"./src/main/log_helper.ts":
/*!********************************!*\
  !*** ./src/main/log_helper.ts ***!
  \********************************/
/*! exports provided: LogHelper */function(e,n,t){"use strict";t.r(n),t.d(n,"LogHelper",function(){return o});var r=t(/*! ../common/index */"./src/common/index.ts"),i=t(/*! ./config */"./src/main/config.ts"),o=function(){function e(e,n){void 0===n&&(n=null),this.type=e,this._info=n,this.message=this.getMsg()}return e.prototype.throw=function(){throw this.get()},e.log=function(e){i.Config.isLogEnabled&&console.log(e)},e.prototype.logError=function(){console.error(this.get())},e.prototype.logWarning=function(){console.warn(this.get())},e.prototype.get=function(){return{message:this.message,type:this.type}},e.prototype.getMsg=function(){var e;switch(this.type){case r.ERROR_TYPE.WorkerNotSupplied:e="Worker object is not passed in instance constructor";break;case r.ERROR_TYPE.IndexedDbUndefined:e="Browser does not support indexeddb";break;default:e=this.message}return e},e}()},"./src/main/util.ts":
/*!**************************!*\
  !*** ./src/main/util.ts ***!
  \**************************/
/*! exports provided: Util */function(e,n,t){"use strict";t.r(n),t.d(n,"Util",function(){return r});var r=function(){function e(){}return Object.defineProperty(e,"sqlWeb",{get:function(){return null==e.sqlWeb_?self.SqlWeb:e.sqlWeb_},set:function(n){e.sqlWeb_=n},enumerable:!0,configurable:!0}),e}()}})}}]);